@model TomPIT.Services.IExecutionContext

@{
	var rootUrl = Model.RootUrl();
	var restUrl = Model.Services.Routing.GetServer(TomPIT.Environment.InstanceType.Rest, TomPIT.Environment.InstanceVerbs.All);
	var component = string.Empty;

	if (Model is IComponentModel cm && cm.Component != null)
	{ component = string.Format("{0}.{1}", cm.Component.MicroService.ToString(), cm.Component.Token.ToString()); }
}

<script>
    tompit.DEFAULTS = {
        appUrl: '@rootUrl',
        restUrl: '@restUrl',
        component:'@component'
    };

    tompit.GLOBALIZE = {
        appUrlNotSet: '@SR.JsAppUrlNotSet',
        restUrlNotSet: '@SR.JsRestUrlNotSet'
    };
</script>