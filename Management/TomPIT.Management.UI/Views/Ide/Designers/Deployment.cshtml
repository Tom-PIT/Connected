@model TomPIT.Management.Designers.DeploymentDesigner


<script src="~/Assets/Scripts/Designers/deployment.js"></script>

<div id="deploymentDesigner">
	@if (Model.Account != null)
	{
		<div class="p-1">
			@Model.Account.Company
			<div class="small float-right"><a href="#" id="aLogoff">logoff</a></div>
			<hr />
		</div>
	}
	else
	{
		<div class="p-1">
			<div class="small float-right"><a href="#" id="aLogin">login</a></div>
			<hr />
		</div>

	}

	<div id="mainPackage" class="collapse">
		<div class="doc-canvas">
			<div class="paper">
				<div class="btn-toolbar package-toolbar justify-content-between">
					<div class="btn-group-sm">
						<button type="button" id="btnShowList" title="return to packages" class="btn btn-sm btn-light"><i class="fal fa-arrow-left"></i></button>
						<button type="button" id="btnInstallPackages" title="install package(s)" class="btn btn-sm btn-success"><i class="fal fa-download"></i></button>
					</div>
					<div class="btn-group-sm pt-2">
						@*						<small class="pr-1">total</small><span class="package-total">0€</span>*@
					</div>
				</div>
				<div id="packageContent">

				</div>
			</div>
		</div>
	</div>
	<div id="packagePeek" class="collapse">

	</div>
	<div id="packageList" class="collapse show">
		@foreach (var i in Model.PublicPackages)
		{
			@await Html.PartialAsync("~/Views/Ide/Designers/DeploymentPackageCard.cshtml", new TomPIT.Management.Models.DeploymentPackageCardModel(Model, i))
		}
	</div>
</div>

<script>
	var deploymentDesigner = $('#deploymentDesigner').tpDeployment({
		checkTimestamp: @DateTime.UtcNow.Ticks
	}).data('tompit-tpDeployment');
</script>